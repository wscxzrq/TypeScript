# 声明文件

> 概述、编写、发布

## 概述
1. 什么是声明文件

以```.d.ts```结尾的文件就是声明文件

2. 声明文件有什么作用

ts -> js 得不到类型声明

为 js 代码提供类型声明

3. 声明文件的位置

- 放置到 tsconfig.json 配置中包含的目录中
- 放置到node_modules/@types 文件夹中
- 手动配置
- 与 JS 代码所在目录相同并且文件名也相同的文件。用 ts 代码书写的工程发布之后的格式


## 编写

> 手动编写 自动生成

- 自动生成

工程是使用 TS 开发的，发布（编译）之后，是 js 文件，发布的是 js 文件

如果发布的文件，需要其他开发者使用，可以使用声明文件来描述发布结果中的类型

配置```tsconfig.json```中的```declaration:true```即可

- 手动编写

1. 对已有的库，它是使用 js 书写而成，并且更改该库的代码为 TS 成本较高，可以手动编写声明文件

2. 对一些第三方的库，它们使用 js 书写而成，并且这些第三方库没有提供声明文件，可以手动编写声明文件

**全局声明**
声明一些全局的对象、属性、变量

> namespace: 表示命名空间，可以将其认为是一个对象，命名空间中的内容，必须通过```命名空间.成员名```访问

**模块声明**


**三斜线指令**

在一个声明文件中，包含另一个声明文件

# 发布
1. 当前工程使用 TS 开发

编译完成后，将编译结果所在文件夹直接发布到 npm 上即可

2. 为其他第三方库开发的声明文件

发布到@types/** 中

1) 进入 github 的开源项目：https://github.com/DefinitelyTyped/DefinitelyTyped

2) fork到自己的开源库中

3) 从自己的开源库中克隆到本地

4) 本地新建分支（例如：myloadsh4.3），在新分支中进行声明文件的开发

    在 types 目录中新建文件夹，在新的文件夹中开发声明文件

5) push 分支到你的开源库 

6) 到官方的开源库中，提交 pull request

7) 等待官方管理员审核（1 天）

审核通过之后，会将你的分支代码合并到主分支，然后发布到npm

之后，就可以通过 ```npm install @types/你发布的库名```

